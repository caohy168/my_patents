<html><head><title>全文文本(Fulltext)</title><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><style>div.fullText table {width: 100%;text-indent: 1px;} 
 div.fullText table td.header {font-weight: bold;text-align: center;font-family: '宋体';font-size: 16px;line-height:20px;color: #000000;padding: 5px;}div.fullText table td.content {padding: 1px;text-align: left;vertical-align: top;width: 100%;font-family: '宋体';font-size: 14px;line-height:20px;color: #000000;}</style></head><body><?xml version="1.0" encoding="UTF-8"?><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" class="fullText"><table class="fullText"><tr><td id="claim_title" class="header">权利要求书</td></tr><tr><td class="content" id="claim_1">1、一种闪存卡功耗控制的方法，其特征在于，该方法包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_2">终端确定执行闪存卡读写操作命令的速率，根据确定的速率选择对应的时
      <br/>钟频率；
      <br/>
				</td></tr><tr><td class="content" id="claim_3">终端按照选择的时钟频率执行所述读写操作命令。
      <br/>
				</td></tr><tr><td class="content" id="claim_4">2、如权利要求1所述的方法，其特征在于，所述终端确定执行闪存卡读写
      <br/>操作命令的速率，根据确定的速率选择对应的时钟频率包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_5">终端的终端处理器确定执行闪存卡读写操作命令的速率，根据确定的速率
      <br/>选择对应的时钟频率，将选择的时钟频率传送给终端的终端卡控制器；
      <br/>
				</td></tr><tr><td class="content" id="claim_6">所述终端按照选择的时钟频率执行所述读写操作命令包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_7">终端卡控制器按照选择的时钟频率执行所述读写操作命令。
      <br/>
				</td></tr><tr><td class="content" id="claim_8">3、如权利要求1所述的方法，其特征在于，所述终端确定执行闪存卡读写
      <br/>操作命令的速率，根据确定的速率选择对应的时钟频率包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_9">终端的终端处理器确定执行闪存卡读写操作命令的速率，将确定的速率传
      <br/>送给终端的终端卡控制器，终端卡控制器根据确定的速率选择对应的时钟频率；
      <br/>
				</td></tr><tr><td class="content" id="claim_10">所述终端按照选择的时钟频率执行所述读写操作命令包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_11">终端卡控制器按照选择的时钟频率执行所述读写操作命令。
      <br/>
				</td></tr><tr><td class="content" id="claim_12">4、如权利要求2或3所述的方法，其特征在于，所述终端卡控制器按照选
      <br/>择的时钟频率执行所述读写操作命令包括：
      <br/>
				</td></tr><tr><td class="content" id="claim_13">终端卡控制器将终端数据缓存区的数据读出，按照选择的时钟频率传送给
      <br/>闪存卡；或者，终端卡控制器按照选择的时钟频率接收闪存卡传送的数据，存
      <br/>储到终端数据缓存区。
      <br/>
				</td></tr><tr><td class="content" id="claim_14">5、一种终端，其特征在于，该终端包括时钟频率确定模块和命令执行模块；
      <br/>
				</td></tr><tr><td class="content" id="claim_15">所述时钟频率确定模块，用于确定与执行闪存卡读写操作命令的速率对应
      <br/>的时钟频率，将读写操作命令和确定的时钟频率传送给命令执行模块；
      <br/>
				</td></tr><tr><td class="content" id="claim_16">所述命令执行模块，用于接收时钟频率确定模块传送的时钟频率和读写操
      <br/>
					作命令，按照所述时钟频率执行所述读写操作命令。
      <br/>
				</td></tr><tr><td class="content" id="claim_17">6、如权利要求5所述的终端，其特征在于，所述命令执行模块置于终端的
      <br/>终端卡控制器内，所述时钟频率确定模块置于终端的终端处理器内；
      <br/>
				</td></tr><tr><td class="content" id="claim_18">所述终端处理器还包括速率确定模块，用于确定执行闪存卡读写操作命令
      <br/>的速率，将确定的速率传送给所述时钟频率确定模块。
      <br/>
				</td></tr><tr><td class="content" id="claim_19">7、如权利要求5所述的终端，其特征在于，所述命令执行模块和时钟频率
      <br/>确定模块置于终端的终端卡控制器内；
      <br/>
				</td></tr><tr><td class="content" id="claim_20">该终端还包括置于终端处理器内的速率确定模块，用于确定执行闪存卡读
      <br/>写操作命令的速率，将确定的速率传送给所述时钟频率确定模块。
      <br/>
				</td></tr><tr><td class="content" id="claim_21">8、如权利要求6或7所述的终端，其特征在于，该终端还包括终端数据缓
      <br/>存区，
      <br/>
				</td></tr><tr><td class="content" id="claim_22">所述命令执行模块，用于根据读写操作命令，将终端数据缓存区内的数据
      <br/>读出，按照所述选择的时钟频率传送给闪存卡；或者，按照所述选择的时钟频
      <br/>率接收闪存卡传送的数据，存储到终端数据缓存区；
      <br/>
				</td></tr><tr><td class="content" id="claim_23">所述终端数据缓存区，用于在命令执行模块的控制下，读出或存储数据。
      <br/>
					
				</td></tr></table></div><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" class="fullText"><table><tr><td id="description_title" class="header">说明书</td></tr><tr><td class="content" id="description_invention_title">闪存卡功耗控制的方法及终端
  </td></tr><tr><td class="content" id="description_1">技术领域
  </td></tr><tr><td class="content" id="description_2">本发明涉及闪存卡技术，尤其涉及闪存卡功耗控制的方法及终端。
    
				</td></tr><tr><td class="content" id="description_3">背景技术
  </td></tr><tr><td class="content" id="description_4">目前，出厂时的闪存卡(移动存储卡)内设置有寄存器，该寄存器内设
    定有工作时闪存卡总线的钟频率范围。使用闪存卡时，闪存卡与终端相连，
    终端在时钟频率范围内为闪存卡提供一固定的时钟频率，之后便使用该固定
    的时钟频率进行终端与闪存卡之间的读写操作。具体地，终端根据闪存卡的
    型号，在其时钟频率范围内为该型号的闪存卡指定进行闪存卡读写操作的固
    定时钟频率。所述终端包括手机、个人数字助理(PDA，Personal Digital
    Assistant)等。
    
				</td></tr><tr><td class="content" id="description_5">需要说明的是，在终端与闪存卡之间进行数据读写时，终端使用的时钟
    频率越高，功耗越大。
    
				</td></tr><tr><td class="content" id="description_6">然而，在实际运用中，不同场合下需要采用不同的时钟频率进行数据传
    输，例如，对闪存卡性能要求较低的场合，如果终端提供给闪存卡的固定时
    钟频率较高，则造成不必要的功耗。
    
				</td></tr><tr><td class="content" id="description_7">由以上分析可见，现有技术在使用闪存卡时，由于终端不能根据实际应
    用情况对闪存卡的工作时钟频率进行实时调整，也就不能对闪存卡工作功耗
    进行实时调整，导致消耗掉不必要的能源。
    
				</td></tr><tr><td class="content" id="description_8">发明内容
  </td></tr><tr><td class="content" id="description_9">本发明提供一种闪存卡功耗控制的方法，该方法能够降低使用闪存卡时
    的功耗，避免因终端提供给闪存卡的时钟频率恒定而造成终端不必要的能源
    消耗问题。
    
				</td></tr><tr><td class="content" id="description_10">本发明提供一种闪存卡功耗控制的终端，该终端能够降低使用闪存卡时
    的功耗，避免因终端提供给闪存卡的时钟频率恒定而造成终端不必要的能源
    消耗问题。
    
				</td></tr><tr><td class="content" id="description_11">一种闪存卡功耗控制的方法，该方法包括：
    
				</td></tr><tr><td class="content" id="description_12">终端确定执行闪存卡读写操作命令的速率，根据确定的速率选择对应的时
    钟频率；
    
				</td></tr><tr><td class="content" id="description_13">终端按照选择的时钟频率执行所述读写操作命令。
    
				</td></tr><tr><td class="content" id="description_14">一种闪存卡功耗控制的终端，该终端包括时钟频率确定模块和命令执行模
    块；
    
				</td></tr><tr><td class="content" id="description_15">所述时钟频率确定模块，用于确定与执行闪存卡读写操作命令的速率对应
    的时钟频率，将读写操作命令和确定的时钟频率传送给命令执行模块；
    
				</td></tr><tr><td class="content" id="description_16">所述命令执行模块，用于接收时钟频率确定模块传送的时钟频率和读写操
    作命令，按照所述时钟频率执行所述读写操作命令。
    
				</td></tr><tr><td class="content" id="description_17">从上述方案可以看出，本发明通过终端根据执行闪存卡读写操作命令的速
    率选择对应的时钟频率，然后，终端便可按照选择的时钟频率执行读写操作命
    令。这样，根据执行读写操作命令的速率实时地调整终端与闪存卡之间进行读
    写操作的时钟频率，避免了不必要的功耗。
    
				</td></tr><tr><td class="content" id="description_18">附图说明
  </td></tr><tr><td class="content" id="description_19">图1为本发明闪存卡功耗控制的终端结构示意图；
    
				</td></tr><tr><td class="content" id="description_20">图2为本发明闪存卡功耗控制的方法示例性流程图；
    
				</td></tr><tr><td class="content" id="description_21">图3为本发明闪存卡功耗控制的方法流程图实例一；
    
				</td></tr><tr><td class="content" id="description_22">图4为本发明闪存卡功耗控制的方法流程图实例二。
    
				</td></tr><tr><td class="content" id="description_23">具体实施方式
  </td></tr><tr><td class="content" id="description_24">为使本发明的目的、技术方案和优点更加清楚明白，下面结合实施例和
    附图，对本发明进一步详细说明。
    
				</td></tr><tr><td class="content" id="description_25">本发明通过根据执行闪存卡读写操作命令的速率实时选择对应的时钟
    频率，按照选择的时钟频率执行读写操作命令。这样，对于某一型号的闪存
    卡，可以根据不同的场合采用合适的时钟频率进行数据传输，避免了现有技
    术中因提供给闪存卡的时钟频率恒定而消耗不必要能源的问题，从而，降低
    了的功耗。
    
				</td></tr><tr><td class="content" id="description_26">参见图1，为本发明闪存卡功耗控制的终端结构示意图，该终端包括时钟
    频率确定模块和命令执行模块；
    
				</td></tr><tr><td class="content" id="description_27">所述时钟频率确定模块，用于确定与执行闪存卡读写操作命令的速率对应
    的时钟频率，将读写操作命令和确定的时钟频率传送给命令执行模块；
    
				</td></tr><tr><td class="content" id="description_28">所述命令执行模块，用于接收时钟频率确定模块传送的时钟频率和读写操
    作命令，按照所述时钟频率执行所述读写操作命令。
    
				</td></tr><tr><td class="content" id="description_29">可选地，所述命令执行模块置于终端的终端卡控制器内，所述时钟频率确
    定模块置于终端的终端处理器内；
    
				</td></tr><tr><td class="content" id="description_30">所述终端处理器还包括速率确定模块，用于确定执行闪存卡读写操作命令
    的速率，将确定的速率传送给所述时钟频率确定模块。
    
				</td></tr><tr><td class="content" id="description_31">可选地，所述命令执行模块和时钟频率确定模块置于终端的终端卡控制器
    内，此时，时钟频率确定模块传送给命令执行模块的读写操作命令由终端处理
    器传送而来；
    
				</td></tr><tr><td class="content" id="description_32">该终端还包括置于终端处理器内的速率确定模块，用于确定执行闪存卡读
    写操作命令的速率，将确定的速率传送给所述时钟频率确定模块。
    
				</td></tr><tr><td class="content" id="description_33">该终端还进一步包括终端数据缓存区，此时，相应地，命令执行模块用于
    根据读写操作命令，将终端数据缓存区内的数据读出，按照所述选择的时钟频
    率传送给闪存卡；或者，根据读写操作命令，按照所述选择的时钟频率接收闪
    存卡传送的数据，存储到终端数据缓存区；
    
				</td></tr><tr><td class="content" id="description_34">所述终端数据缓存区，用于在命令执行模块的控制下，读出或存储数据。
    
				</td></tr><tr><td class="content" id="description_35">所述闪存卡包括卡控制器和闪存；
    
				</td></tr><tr><td class="content" id="description_36">所述卡控制器，用于按照选择的时钟频率接收终端卡控制器传送的数据，
    
					然后存储到闪存，或者，用于按照选择的时钟频率将闪存内指定的数据传送给
    终端卡控制器。
    
				</td></tr><tr><td class="content" id="description_37">参见图2，为本发明闪存卡功耗控制的方法示例性流程图，该方法包括以
    下步骤：
    
				</td></tr><tr><td class="content" id="description_38">步骤201，终端确定执行闪存卡读写操作命令的速率，根据确定的速率选
    择对应的时钟频率。
    
				</td></tr><tr><td class="content" id="description_39">具体地，本步骤包括：终端处理器确定执行闪存卡读写操作命令的速率，
    根据确定的速率选择对应的时钟频率，将选择的时钟频率传送给终端卡控制器；
    或者；终端处理器确定执行闪存卡读写操作命令的速率，将确定的速率传送给
    终端卡控制器，终端卡控制器根据确定的速率选择对应的时钟频率。
    
				</td></tr><tr><td class="content" id="description_40">可见，根据执行闪存卡读写操作命令的速率选择对应的时钟频率的步骤，
    即可在终端处理器内完成，也可在终端卡控制器内完成。
    
				</td></tr><tr><td class="content" id="description_41">步骤202，终端按照选择的时钟频率执行所述读写操作命令。
    
				</td></tr><tr><td class="content" id="description_42">具体地，本步骤包括：终端卡控制器将终端数据缓存区的数据读出，按照
    选择的时钟频率传送给闪存卡；或者，终端卡控制器按照选择的时钟频率接收
    闪存卡传送的数据，存储到终端数据缓存区。
    
				</td></tr><tr><td class="content" id="description_43">下面通过图3和图4的实例分别对终端执行读操作、写操作的流程进行说
    明。参见图3，为本发明闪存卡功耗控制的方法流程图实例一，该实例为终端
    执行读操作命令时的方法，其中根据执行闪存卡读操作命令的速率选择对应的
    时钟频率的步骤在终端卡控制器内完成，该方法具体包括以下步骤：
    
				</td></tr><tr><td class="content" id="description_44">步骤301，终端处理器确定执行当前读操作命令的速率。
    
				</td></tr><tr><td class="content" id="description_45">所述终端处理器确定执行当前读操作命令的速率包括：终端处理器根据操
    作环境确定执行读操作时的速率，所谓读操作也就是将闪存卡的数据读入终端，
    所谓操作环境即当前读操作的具体内容。例如，操作环境为从闪存卡中实时播
    放一个多媒体文件，此时需要将闪存卡中的该多媒体文件传送到终端，因实时
    播放需要保证一定的速率，此时便要求较高的速率；再如，操作环境为将一容
    量为10k的TXT文件从闪存卡传送到终端，因该TXT文件容量小，在执行读
    
					操作时无需过高的速率，这种情况采用较低的速率即可。
    
				</td></tr><tr><td class="content" id="description_46">终端处理器在确定执行当前读操作命令的速率的同时，还根据当前读操作
    命令设定终端数据缓存区，该终端数据缓存区用于存储从闪存卡传输的数据。
    该终端数据缓存区大小根据当前读操作命令的需求确定，例如，操作环境为从
    闪存卡将一个4G的多媒体文件读入终端卡控制器，终端卡控制器再将数据写
    入终端数据缓存区，则相应终端数据缓存区应设置得相对较大，如果操作环境
    为从闪存卡将50k的TXT文件读入终端卡控制器，终端卡控制器再将数据写
    入数据缓存区，则相应终端数据缓存区应设置得相对较小。
    
				</td></tr><tr><td class="content" id="description_47">步骤302，终端处理器根据确定的速率选择对应的时钟频率。
    
				</td></tr><tr><td class="content" id="description_48">在终端侧，预先设置了速率与时钟频率之间的对应关系，速率越高，对应
    的时钟频率也越高。具体地，该对应关系可以为一个速率范围对应某一时钟频
    率。在终端处理器确定出读操作的速率之后，便可根据所述对应关系，选择出
    传输数据采用的相应时钟频率。例如，操作环境为从闪存卡中实时播放一个多
    媒体文件，此时需要将闪存卡中的该多媒体文件传送到终端存储，因实时播放
    要求校高的速率，相应地，从对应关系查出的时钟频率也相应较高；再如，操
    作环境为将一容量为10k的TXT文件从闪存卡传送到终端，因该TXT文件容
    量小，在执行读操作时采用较低的速率即可，相应地，从对应关系查出的时钟
    频率也相应较低。
    
				</td></tr><tr><td class="content" id="description_49">步骤303，终端处理器将读操作命令和选择的时钟频率的信息传送给终端
    卡控制器。
    
				</td></tr><tr><td class="content" id="description_50">所述读操作命令包括将闪存卡中指定的数据读入终端卡控制器，再由卡控
    制器将数据写入终端数据缓冲区的命令。
    
				</td></tr><tr><td class="content" id="description_51">步骤304，终端卡控制器根据终端处理器传送的时钟频率信息，按照相应
    的时钟频率执行终端处理器传送的读操作命令。
    
				</td></tr><tr><td class="content" id="description_52">本步骤中，所述按照相应的时钟频率执行终端处理器传送的读操作命令
    包括：按照相应的时钟频率接收闪存卡传送的数据，然后将数据写入终端数据
    缓存区内。
    
				</td></tr><tr><td class="content" id="description_53">在闪存卡端，闪存卡内的卡控制器按照选择的时钟频率将闪存(flash)内
    指定的数据传送给终端卡控制器。
    
				</td></tr><tr><td class="content" id="description_54">参见图4，为本发明闪存卡功耗控制的方法流程图实例二，该实例为终
    端执行写操作命令时的方法，其中根据执行闪存卡写操作命令的速率选择对
    应的时钟频率的步骤在终端卡控制器内完成，该方法具体包括以下步骤：
    
				</td></tr><tr><td class="content" id="description_55">步骤401，终端处理器确定执行当前写操作命令的速率。
    
				</td></tr><tr><td class="content" id="description_56">所述终端处理器确定执行当前写操作命令的速率包括：终端处理器根据操
    作环境确定执行写操作时的速率，所谓写操作也就是将终端的数据写到闪存卡，
    所谓操作环境即当前写操作的具体内容。例如，操作环境为对闪存卡内的TXT
    文件的名称进行更改，此时需要将更新后的名称的数据从终端写出，传送到闪
    存卡，因更新后的名称的数据容量很小，无需过高的速率，这种情况采用较低
    的速率即可。
    
				</td></tr><tr><td class="content" id="description_57">终端处理器在确定执行当前写操作命令的速率的同时，还根据当前写操作
    命令设定终端数据缓存区，用于存储需要传送给闪存卡的数据。该终端数据缓
    存区的大小根据当前写操作命令的需求确定。
    
				</td></tr><tr><td class="content" id="description_58">步骤402，终端处理器根据确定的速率选择对应的时钟频率。
    
				</td></tr><tr><td class="content" id="description_59">在终端侧，预先设置了速率与时钟频率之间的对应关系，速率越高，对应
    的时钟频率也越高。具体地，该对应关系可以为一个速率范围对应一个时钟频
    率。在终端处理器确定出写操作的速率之后，便可根据所述对应关系，选择出
    传输数据采用的相应的时钟频率。例如，操作环境为将终端存储器内容量为8k
    的TXT文件传送给闪存卡，因该TXT文件容量小，在执行写操作时采用较低
    的速率即可，相应地，从对应关系查出的时钟频率也相应较低。
    
				</td></tr><tr><td class="content" id="description_60">步骤403，终端处理器将写操作命令和选择的时钟频率的信息传送给终端
    控制器。
    
				</td></tr><tr><td class="content" id="description_61">所述写操作命令包括终端卡控制器将终端数据缓存区中指定的数据读出，
    然后传送给闪存卡的命令。
    
				</td></tr><tr><td class="content" id="description_62">步骤404，终端卡控制器根据终端处理器传送的时钟频率信息，按照相应
    
					的时钟频率执行终端处理器传送的写操作命令。
    
				</td></tr><tr><td class="content" id="description_63">本步骤中，所述按照相应的时钟频率执行终端处理器传送的写操作命令
    包括：终端卡控制器将终端数据缓存区内指定的数据读出，按照相应的时钟
    频率传送给闪存卡。
    
				</td></tr><tr><td class="content" id="description_64">在闪存卡端，闪存卡内的卡控制器按照选择的时钟频率接收终端卡控制器
    发送的数据，然后存入闪存卡的闪存(flash)。
    
				</td></tr><tr><td class="content" id="description_65">本发明方案根据读写操作命令的速率选择相应的时钟频率，根据确定的时
    钟频率进行终端与闪存卡之间数据的读出、写入。这样，避免了现有技术中针
    对某一闪存卡，在任何情况下都采用同一固定时钟频率进行数据读写操作的问
    题，也就是，在数据读写时能够自适应地调整时钟频率。从而，解决了现有技
    术中因采用较高时钟频率进行数据读写而造成不必要的功耗的问题。
    
				</td></tr><tr><td class="content" id="description_66">以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进
    一步详细说明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不
    用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、
    等同替换、改进等，均应包含在本发明的保护范围之内。
    
				</td></tr></table></div></body></html>